<!DOCTYPE HTML>
<html th:with="currentPage='test'"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Form</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link href="../static/css/core.css"
          th:href="@{/css/core.css}"
          rel="stylesheet" media="screen" />
    <link href="http://cdn.jsdelivr.net/webjars/bootstrap/3.2.0/css/bootstrap.min.css"
          th:href="@{/webjars/bootstrap/3.2.0/css/bootstrap.min.css}"
          rel="stylesheet" media="screen" />
</head>
<body>
<!-- Header -->
<div th:replace="fragments/header :: header">
    <!-- ============================================================================ -->
    <!-- This content is only used for static prototyping purposes (natural templates)-->
    <!-- and is therefore entirely optional, as this markup fragment will be included -->
    <!-- from "fragments/header.html" at runtime.                                     -->
    <!-- ============================================================================ -->
    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">Static header</a>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#">Home</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<div class="container">
    <h1>Payment Form</h1>
    <form id="myform" action="#" th:action="@{/PaymentManager/PaymentInput.do}" th:object="${greeting}" method="post">
    	<p>Id: <input type="text" th:field="*{id}" /></p>
        <p>Content:</p>
        <textarea rows="10" cols="60" th:field="*{content}" form="myform"></textarea>
        <p>
        	<input type="button" value="base64" onclick="test(this.form)" />
        	<input type="submit" value="Submit" />
        	<input type="reset" value="Reset" />
        </p>

        <div class="g-recaptcha" data-sitekey="6Lem2ycTAAAAAEw2MOprSnpMlvtGebwSX5whNlSa"></div>

    </form>
    <footer class="footer">
        <div th:replace="fragments/footer :: footer">&copy; Templates Footer</div>
    </footer>
</div>

<!-- https://developers.google.com/recaptcha/ -->
<script src="https://www.google.com/recaptcha/api.js?hl=th" async="async" defer="defer"></script>
<script type="text/javascript">
<!--
    function test(form) {
        var data = 'merchantid=950111161&ordernumber=20160110001&paymenttype=CreditCard&amount=1234.50';

        //encode base64
        var base64_data = window.btoa(data);
        console.log(base64_data);
        form.content.value = base64_data;
    }
-->
</script>

<script src="http://cdn.jsdelivr.net/webjars/jquery/2.1.1/jquery.min.js"
        th:src="@{/webjars/jquery/2.1.1/jquery.min.js}"></script>
<script src="http://cdn.jsdelivr.net/webjars/bootstrap/3.2.0/js/bootstrap.min.js"
        th:src="@{/webjars/bootstrap/3.2.0/js/bootstrap.min.js}"></script>

</body>
</html>
